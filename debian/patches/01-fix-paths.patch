Description: Update the installation directories.
 Change @prefix@/... to @localstatedir@ or @sysconfdir@ as appropriate
 to comply with the FHS
Forwarded: not-needed
Author: Paolo Molaro <lupus@debian.org>
Author: Julien Lemoine <speedblue@debian.org>
Author: Luis Rodrigo Gallardo Cruz <rodrigo@debian.org>
Last-Update: 2015-06-13

--- a/tools/stunnel.conf-sample.in
+++ b/tools/stunnel.conf-sample.in
@@ -12,12 +12,12 @@
 ;setgid = @DEFAULT_GROUP@
 
 ; PID file is created inside the chroot jail (if enabled)
-;pid = @prefix@/var/run/stunnel.pid
+;pid = @localstatedir@/run/stunnel.pid
 
 ; Debugging stuff (may be useful for troubleshooting)
 ;foreground = yes
 ;debug = info
-;output = stunnel.log
+;output = @localstatedir@/log/stunnel/stunnel.log
 
 ; Enable FIPS 140-2 mode if needed for compliance
 ;fips = yes
@@ -44,7 +44,7 @@
 accept = 127.0.0.1:110
 connect = pop.gmail.com:995
 verify = 2
-CApath = /etc/ssl/certs
+CApath = @sysconfdir/ssl/certs
 checkHost = pop.gmail.com
 
 [gmail-imap]
@@ -52,7 +52,7 @@
 accept = 127.0.0.1:143
 connect = imap.gmail.com:993
 verify = 2
-CApath = /etc/ssl/certs
+CApath = @sysconfdir/ssl/certs
 checkHost = imap.gmail.com
 
 [gmail-smtp]
@@ -60,7 +60,7 @@
 accept = 127.0.0.1:25
 connect = smtp.gmail.com:465
 verify = 2
-CApath = /etc/ssl/certs
+CApath = @sysconfdir/ssl/certs
 checkHost = smtp.gmail.com
 
 ; ***************************************** Example TLS server mode services
@@ -68,34 +68,34 @@
 ;[pop3s]
 ;accept  = 995
 ;connect = 110
-;cert = @prefix@/etc/stunnel/stunnel.pem
+;cert = @sysconfdir@/stunnel/stunnel.pem
 
 ;[imaps]
 ;accept  = 993
 ;connect = 143
-;cert = @prefix@/etc/stunnel/stunnel.pem
+;cert = @sysconfdir@/stunnel/stunnel.pem
 
 ;[ssmtp]
 ;accept  = 465
 ;connect = 25
-;cert = @prefix@/etc/stunnel/stunnel.pem
+;cert = @sysconfdir@/stunnel/stunnel.pem
 
 ; TLS front-end to a web server
 ;[https]
 ;accept  = 443
 ;connect = 80
-;cert = @prefix@/etc/stunnel/stunnel.pem
+;cert = @sysconfdir@/stunnel/stunnel.pem
 ; "TIMEOUTclose = 0" is a workaround for a design flaw in Microsoft SChannel
 ; Microsoft implementations do not use TLS close-notify alert and thus they
 ; are vulnerable to truncation attacks
 ;TIMEOUTclose = 0
 
 ; Remote shell protected with PSK-authenticated TLS
-; Create "@prefix@/etc/stunnel/secrets.txt" containing IDENTITY:KEY pairs
+; Create "@sysconfdir@/stunnel/secrets.txt" containing IDENTITY:KEY pairs
 ;[shell]
 ;accept = 1337
 ;exec = /bin/sh
 ;execArgs = sh -i
-;PSKsecrets = @prefix@/etc/stunnel/secrets.txt
+;PSKsecrets = @sysconfdir@/stunnel/secrets.txt
 
 ; vim:ft=dosini
